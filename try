import sqlite3

def connect_db():
    return sqlite3.connect('users.db')

def create_table():
    with connect_db() as conn:
        c = conn.cursor()
        c.execute('''CREATE TABLE IF NOT EXISTS users (id INTEGER PRIMARY KEY, name TEXT)''')
        conn.commit()

def add_user(name):
    with connect_db() as conn:
        c = conn.cursor()
        c.execute("INSERT INTO users (name) VALUES (?)", (name,))
        conn.commit()

def view_users():
    with connect_db() as conn:
        c = conn.cursor()
        c.execute("SELECT * FROM users")
        return c.fetchall()

def delete_user(user_id):
    with connect_db() as conn:
        c = conn.cursor()
        c.execute("DELETE FROM users WHERE id = ?", (user_id,))
        conn.commit()

def main():
    create_table()
    while True:
        print("\nUser Management System")
        print("1. Add User")
        print("2. View Users")
        print("3. Delete User")
        print("4. Exit")
        choice = input("Choose an option: ")

        if choice == '1':
            name = input("Enter user name: ")
            add_user(name)
            print(f"User '{name}' added.")
        elif choice == '2':
            users = view_users()
            print("Users:")
            for user in users:
                print(f"{user[0]}: {user[1]}")
        elif choice == '3':
            user_id = int(input("Enter user ID to delete: "))
            delete_user(user_id)
            print(f"User with ID {user_id} deleted.")
        elif choice == '4':
            break
        else:
            print("Invalid choice. Please try again.")

if __name__ == "__main__":
    main()
